{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","url","localStorage","getItem","urlObj","JSON","parse","hashMap","uniqueArray","array","result","finalArr","forEach","item","index","push","simplyUrl","replace","render","remove","$li","logo","insertBefore","on","e","window","open","stopPropagation","splice","prompt","indexOf","toUpperCase","lastLen","length","fadeIn","fadeOut","onbeforeunload","console","log","urlString","stringify","setItem","document","key","i","toLowerCase","hide"],"mappings":"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","file":"main.9ebf7cfc.js","sourceRoot":"..\\src","sourcesContent":["let $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.addBtn')\r\nconst url = localStorage.getItem('urlString')\r\nconst urlObj = JSON.parse(url)\r\nlet hashMap = urlObj || [\r\n    {'url':'https://www.bilibili.com','logo':'B'}\r\n]\r\n\r\n\r\nconst uniqueArray = (array) => {\r\n    let result = {}\r\n    let finalArr = []\r\n    array.forEach((item,index) => {\r\n        result[array[index].url] = item\r\n    })\r\n    for(item in result){\r\n        finalArr.push(result[item])\r\n    }\r\n    return finalArr\r\n}\r\n\r\nconst simplyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n    .replace('http://', '')\r\n    .replace('www.', '')\r\n    .replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = ()=> {\r\n    $siteList.find('li:not(.addBtn)').remove()\r\n    hashMap.forEach( (item, index) => {\r\n        const $li = $(`\r\n            <li>\r\n                <div class=\"site\">\r\n                    <div class=\"logo\">${item.logo}</div>\r\n                    <div class=\"link\">${simplyUrl(item.url)}</div>\r\n                    <div class=\"close\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-close\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        `).insertBefore($lastLi)\r\n        $li.on('click', (e) => {\r\n            window.open(item.url)\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation()  // 阻止冒泡跳转url\r\n            hashMap.splice(index,1)\r\n            render()\r\n        })\r\n    })\r\n}\r\n\r\n\r\nrender()\r\n\r\n$('.addButton').on('click',()=>{\r\n    let url = window.prompt(\"请问你要添加的网站网址是什么？\")\r\n    if(url.indexOf('http') !== 0){\r\n        url = 'https://' + url\r\n    }\r\n    hashMap.push({\r\n        logo:simplyUrl(url)[0].toUpperCase(),\r\n        url:url\r\n    })\r\n    const lastLen = hashMap.length\r\n    hashMap = uniqueArray(hashMap)\r\n    if( lastLen === hashMap.length){\r\n        render()\r\n    }else{\r\n        // $('.message').addClass('.colorAnimate')\r\n        $('.message').fadeIn(2000,'linear', () => {\r\n            $('.message').fadeOut(1000)\r\n        })\r\n    }\r\n})\r\n\r\n\r\n\r\nwindow.onbeforeunload = () => {\r\n    console.log('close')\r\n    const urlString = JSON.stringify(hashMap)\r\n    localStorage.setItem('urlString',urlString)\r\n}\r\n\r\n$(document).on('keypress', (e) => {\r\n    const {key} = e\r\n    for(let i = 0; i<hashMap.length;i++){\r\n        if(hashMap[i].logo.toLowerCase() === key){\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})\r\n\r\n$('.message').hide()"]}